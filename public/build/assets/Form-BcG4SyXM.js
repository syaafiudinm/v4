import{a as h,u as j,j as e,L as p}from"./app-NcO3OLm2.js";import{A as N}from"./AdminLayout-D2Np8veB.js";import{A as v}from"./arrow-left-zW32fgnu.js";import{c as w}from"./createLucideIcon-9ZTdQb5A.js";import{P}from"./plus-DH6mheQl.js";import{X as k}from"./x-BziZBR-K.js";/* empty css            *//**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_=w("Upload",C);function E({project:s}){const[i,c]=h.useState(""),[o,m]=h.useState(s?.image?`/storage/${s.image}`:null),{data:r,setData:l,post:x,processing:g,errors:a}=j({title:s?.title||"",description:s?.description||"",image:null,tags:s?.tags||[],demo_url:s?.demo_url||"",github_url:s?.github_url||"",featured:s?.featured||!1}),f=t=>{t.preventDefault(),s?x(`/admin/projects/${s.id}`,{method:"post",forceFormData:!0,headers:{"X-HTTP-Method-Override":"PUT"}}):x("/admin/projects",{forceFormData:!0})},y=t=>{const n=t.target.files?.[0];if(n){l("image",n);const d=new FileReader;d.onloadend=()=>{m(d.result)},d.readAsDataURL(n)}},u=()=>{i.trim()&&!r.tags.includes(i.trim())&&(l("tags",[...r.tags,i.trim()]),c(""))},b=t=>{l("tags",r.tags.filter(n=>n!==t))};return e.jsx(N,{children:e.jsxs("div",{className:"max-w-4xl space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(p,{href:"/admin/projects",className:"rounded-lg p-2 transition hover:bg-gray-100",children:e.jsx(v,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900",children:s?"Edit Project":"Create New Project"}),e.jsx("p",{className:"mt-1 font-light text-gray-600",children:s?"Update your project details":"Add a new project to your portfolio"})]})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Project Title"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:r.title,onChange:t=>l("title",t.target.value),className:"text-gray-900 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-transparent focus:outline-none focus:ring-2 focus:ring-gray-900",placeholder:"My Awesome Project"}),a.title&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Description"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:r.description,onChange:t=>l("description",t.target.value),rows:4,className:"text-gray-900 w-full resize-none rounded-lg border border-gray-300 px-4 py-2 transition focus:border-transparent focus:outline-none focus:ring-2 focus:ring-gray-900",placeholder:"Describe your project..."}),a.description&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.description})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Project Image"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsxs("label",{className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 transition hover:bg-gray-100",children:[o?e.jsx("img",{src:o,alt:"Preview",className:"h-full w-full rounded-lg object-cover"}):e.jsxs("div",{className:"flex flex-col items-center justify-center pb-6 pt-5",children:[e.jsx(_,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm font-light text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Click to upload"})," ","or drag and drop"]}),e.jsx("p",{className:"text-xs font-light text-gray-500",children:"PNG, JPG, WEBP (MAX. 2MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:y})]})}),o&&e.jsx("button",{type:"button",onClick:()=>{m(null),l("image",null)},className:"text-sm font-light text-red-600 hover:text-red-800",children:"Remove image"})]}),a.image&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Technologies / Tags"}),e.jsxs("div",{className:"mb-3 flex space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:t=>c(t.target.value),onKeyPress:t=>{t.key==="Enter"&&(t.preventDefault(),u())},placeholder:"e.g., React, Laravel, TypeScript",className:"text-gray-900 flex-1 rounded-lg border border-gray-300 px-4 py-2 transition focus:border-transparent focus:outline-none focus:ring-2 focus:ring-gray-900"}),e.jsxs("button",{type:"button",onClick:u,className:"flex items-center space-x-2 rounded-lg bg-gray-900 px-4 py-2 transition hover:bg-gray-800",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"font-light",children:"Add"})]})]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(t=>e.jsxs("span",{className:"inline-flex items-center space-x-2 rounded-full bg-gray-100 px-3 py-1 text-sm font-light text-gray-800",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>b(t),className:"transition hover:text-gray-900",children:e.jsx(k,{className:"h-3 w-3"})})]},t))}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Press Enter or click Add to add a tag"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Live Demo URL"}),e.jsx("input",{type:"text",value:r.demo_url,onChange:t=>l("demo_url",t.target.value),className:"text-gray-900 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-transparent focus:outline-none focus:ring-2 focus:ring-gray-900",placeholder:"https://example.com"}),a.demo_url&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.demo_url})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"GitHub Repository URL"}),e.jsx("input",{type:"text",value:r.github_url,onChange:t=>l("github_url",t.target.value),className:"text-gray-900 w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-transparent focus:outline-none focus:ring-2 focus:ring-gray-900",placeholder:"https://github.com/username/repo"}),a.github_url&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.github_url})]}),e.jsxs("div",{className:"flex items-center space-x-3 rounded-lg bg-gray-50 p-4",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:r.featured,onChange:t=>l("featured",t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-900 focus:ring-gray-900"}),e.jsx("label",{htmlFor:"featured",className:"text-sm font-medium text-gray-700",children:"Feature this project on homepage"})]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx(p,{href:"/admin/projects",className:"rounded-lg px-4 py-2 font-light text-gray-700 transition hover:bg-gray-100",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"rounded-lg bg-gray-900 px-6 py-2 font-light text-white transition hover:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-50",children:g?"Saving...":s?"Update Project":"Create Project"})]})]})]})})}export{E as default};
