import{u,j as e,L as o}from"./app-B3Yj_cCg.js";import{A as g}from"./AdminLayout-RfpQm3Rp.js";import{A as m}from"./arrow-left-BaY3HPCZ.js";/* empty css            */import"./createLucideIcon-BHRrG4hY.js";import"./log-out-BBSgCt9V.js";function v({post:r}){const{data:a,setData:l,post:i,put:d,processing:n,errors:s}=u({title:r?.title||"",slug:r?.slug||"",excerpt:r?.excerpt||"",content:r?.content||"",featured_image:r?.featured_image||"",published_at:r?.published_at?r.published_at.slice(0,16):""}),c=t=>{t.preventDefault(),r?d(`/admin/posts/${r.id}`):i("/admin/posts")},x=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");return e.jsx(g,{children:e.jsxs("div",{className:"max-w-4xl space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(o,{href:"/admin/posts",className:"rounded-lg p-2 transition hover:bg-gray-100",children:e.jsx(m,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-light text-gray-900",children:r?"Edit Post":"Create New Post"}),e.jsx("p",{className:"mt-1 font-light text-gray-600",children:r?"Update your blog post":"Write a new blog post"})]})]}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-6 rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.title,onChange:t=>{l("title",t.target.value),r||l("slug",x(t.target.value))},className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-900 transition focus:border-transparent focus:ring-2 focus:ring-gray-900 focus:outline-none",placeholder:"Enter post title"}),s.title&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Slug ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:a.slug,onChange:t=>l("slug",t.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 font-mono text-sm text-gray-900 transition focus:border-transparent focus:ring-2 focus:ring-gray-900 focus:outline-none",placeholder:"post-url-slug"}),s.slug&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.slug})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Excerpt ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:a.excerpt,onChange:t=>l("excerpt",t.target.value),rows:3,className:"w-full resize-none rounded-lg border border-gray-300 px-4 py-2 text-gray-900 transition focus:border-transparent focus:ring-2 focus:ring-gray-900 focus:outline-none",placeholder:"Brief description of your post"}),s.excerpt&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.excerpt})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:["Content ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:a.content,onChange:t=>l("content",t.target.value),rows:16,className:"w-full resize-none rounded-lg border border-gray-300 px-4 py-2 font-mono text-sm text-gray-900 transition focus:border-transparent focus:ring-2 focus:ring-gray-900 focus:outline-none",placeholder:"Write your post content here (supports HTML)"}),s.content&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.content})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Featured Image URL"}),e.jsx("input",{type:"text",value:a.featured_image,onChange:t=>l("featured_image",t.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 transition focus:border-transparent focus:ring-2 focus:ring-gray-900 focus:outline-none",placeholder:"https://example.com/image.jpg"}),s.featured_image&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.featured_image}),a.featured_image&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:a.featured_image,alt:"Preview",className:"h-48 w-full rounded-lg border border-gray-200 object-cover",onError:t=>{t.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23f3f4f6" width="400" height="300"/%3E%3Ctext fill="%239ca3af" font-family="sans-serif" font-size="18" x="50%25" y="50%25" text-anchor="middle"%3EImage not found%3C/text%3E%3C/svg%3E'}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Publish Date"}),e.jsx("input",{type:"datetime-local",value:a.published_at,onChange:t=>l("published_at",t.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-gray-900 transition focus:border-transparent focus:ring-2 focus:ring-gray-900 focus:outline-none"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to save as draft"}),s.published_at&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:s.published_at})]})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[e.jsx(o,{href:"/admin/posts",className:"rounded-lg px-4 py-2 font-light text-gray-700 transition hover:bg-gray-100",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"rounded-lg bg-gray-900 px-6 py-2 font-light text-white transition hover:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-50",children:n?"Saving...":r?"Update Post":"Create Post"})]})]})]})})}export{v as default};
