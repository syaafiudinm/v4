import{a as u,u as p,j as e}from"./app-C4AXihyq.js";import{L as f}from"./Layouts-BnmYruxk.js";import{H as j}from"./heart-DDraYw9T.js";import{M as b}from"./message-circle-95PqNw7k.js";/* empty css            */import"./createLucideIcon-q_U5fb7w.js";function k({post:s,hasLiked:m}){const[r,d]=u.useState(m),{data:l,setData:n,post:i,processing:c,errors:a,reset:x}=p({name:"",email:"",content:""}),o=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=()=>{r||i(`/post/${s.id}/like`,{onSuccess:()=>d(!0)})},g=t=>{t.preventDefault(),i(`/post/${s.id}/comment`,{onSuccess:()=>x()})};return e.jsx(f,{children:e.jsxs("article",{className:"mx-auto mt-10 max-w-3xl",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("p",{className:"mb-4 text-sm font-light text-gray-500",children:o(s.published_at)}),e.jsx("h1",{className:"mb-6 text-4xl leading-tight font-light md:text-5xl",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("button",{onClick:h,disabled:r,className:`flex items-center space-x-2 transition ${r?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:[e.jsx(j,{className:`h-5 w-5 ${r?"fill-current":""}`}),e.jsx("span",{className:"text-sm font-light",children:s.likes?.length||0})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-light",children:s.comments?.length||0})]})]})]}),s.featured_image&&e.jsx("div",{className:"mb-12",children:e.jsx("img",{src:s.featured_image,alt:s.title,className:"aspect-video w-full object-cover"})}),e.jsx("div",{className:"prose prose-lg mb-16 max-w-none text-justify font-light",dangerouslySetInnerHTML:{__html:s.content}}),e.jsxs("div",{className:"border-t border-gray-200 pt-12",children:[e.jsxs("h2",{className:"mb-8 text-2xl font-light",children:["Comments (",s.comments?.length||0,")"]}),e.jsx("form",{onSubmit:g,className:"mb-12",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",placeholder:"Name",value:l.name,onChange:t=>n("name",t.target.value),className:"w-full border border-gray-200 px-4 py-3 font-light transition focus:border-gray-900 focus:outline-none"}),a.name&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.name})]}),e.jsxs("div",{children:[e.jsx("input",{type:"email",placeholder:"Email",value:l.email,onChange:t=>n("email",t.target.value),className:"w-full border border-gray-200 px-4 py-3 font-light transition focus:border-gray-900 focus:outline-none"}),a.email&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.email})]})]}),e.jsxs("div",{children:[e.jsx("textarea",{placeholder:"Your comment",value:l.content,onChange:t=>n("content",t.target.value),rows:parseInt("4"),className:"w-full resize-none border border-gray-200 px-4 py-3 font-light transition focus:border-gray-900 focus:outline-none"}),a.content&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.content})]}),e.jsx("button",{type:"submit",disabled:c,className:"bg-gray-900 px-6 py-3 font-light text-white transition hover:bg-gray-800 disabled:opacity-50",children:c?"Posting...":"Post Comment"})]})}),e.jsx("div",{className:"space-y-8",children:s.comments?.map(t=>e.jsxs("div",{className:"border-b border-gray-100 pb-8",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("p",{className:"font-light",children:t.name}),e.jsx("p",{className:"text-xs font-light text-gray-500",children:o(t.created_at)})]}),e.jsx("p",{className:"font-light text-gray-700",children:t.content})]},t.id))})]})]})})}export{k as default};
